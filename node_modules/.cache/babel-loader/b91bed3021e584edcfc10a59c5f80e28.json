{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\admin\\\\Documents\\\\DH\\\\ctd-esp-fe3-final\\\\fe3-final\\\\src\\\\Components\\\\utils\\\\global.context.jsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { createContext } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const initialState = {\n  theme: \"\",\n  data: []\n};\nexport const ContextGlobal = /*#__PURE__*/createContext(initialState);\nexport const useGlobalContext = () => {\n  _s();\n\n  return useContext(ContextGlobal);\n};\n\n_s(useGlobalContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nconst contextReducer = (state, action) => {\n  const themeAndUpdate = {\n    'toggle': { ...state,\n      theme: state.theme === 'light' ? 'dark' : 'light'\n    },\n    'update': { ...state,\n      data: [...state.data, action.payload]\n    }\n  };\n  return themeAndUpdate[action.type] ? themeAndUpdate[action.type] : state;\n};\n\nconst initialContextReducer = () => ({\n  theme: 'light',\n  data: localStorage.getItem('favorites') ? JSON.parse(localStorage.getItem('favorites')) : []\n});\n\nexport const ContextGlobalProvider = _ref => {\n  _s2();\n\n  let {\n    children\n  } = _ref;\n  //Aqui deberan implementar la logica propia del Context, utilizando el hook useMemo\n  const [state, dispatch] = useReducer(contextReducer, initialState, initialContextReducer);\n  const globalContextMemo = useMemo9(() => {\n    localStorage.setItem('favorites', JSON.stringify(state.data));\n    return {\n      state,\n      dispatch\n    };\n  }, [state]);\n  useEffect(() => {\n    if (state.theme === 'dark' || !('theme' in state) && window.matchMedia('(prefers-color-scheme: dark)').matches) {\n      document.documentElement.classList.add('dark');\n    } else {\n      document.documentElement.classList.remove('dark');\n    }\n  }, [state]);\n  return /*#__PURE__*/_jsxDEV(ContextGlobal.Provider, {\n    value: globalContextMemo,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(ContextGlobalProvider, \"pGGulabtiVEEWQgVzLCtBsAsI+A=\", true);\n\n_c = ContextGlobalProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"ContextGlobalProvider\");","map":{"version":3,"names":["createContext","initialState","theme","data","ContextGlobal","useGlobalContext","useContext","contextReducer","state","action","themeAndUpdate","payload","type","initialContextReducer","localStorage","getItem","JSON","parse","ContextGlobalProvider","children","dispatch","useReducer","globalContextMemo","useMemo9","setItem","stringify","useEffect","window","matchMedia","matches","document","documentElement","classList","add","remove"],"sources":["C:/Users/admin/Documents/DH/ctd-esp-fe3-final/fe3-final/src/Components/utils/global.context.jsx"],"sourcesContent":["import { createContext } from \"react\";\r\n\r\nexport const initialState = {theme: \"\", data: []}\r\n\r\nexport const ContextGlobal = createContext(initialState)\r\nexport const useGlobalContext = () => useContext(ContextGlobal);\r\n\r\nconst contextReducer = (state, action) => {\r\n  const themeAndUpdate ={\r\n    'toggle': {...state, theme: state.theme === 'light'?'dark':'light'},\r\n    'update': {...state, data: [...state.data, action.payload]}\r\n  }\r\n  return themeAndUpdate[action.type] ? themeAndUpdate[action.type] : state\r\n};\r\n\r\nconst initialContextReducer = () =>({\r\n  theme: 'light',\r\n  data: localStorage.getItem('favorites') ? JSON.parse(localStorage.getItem('favorites')) : []\r\n})\r\n\r\nexport const ContextGlobalProvider = ({ children }) => {\r\n  //Aqui deberan implementar la logica propia del Context, utilizando el hook useMemo\r\n  const [state, dispatch] = useReducer(contextReducer, initialState, initialContextReducer)\r\n  const globalContextMemo = useMemo9(() => {\r\n    localStorage.setItem('favorites', JSON.stringify(state.data))\r\n    return{state, dispatch}\r\n    },[state])\r\n  useEffect(() => {\r\n    if (state.theme === 'dark' || (!('theme' in state) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {\r\n      document.documentElement.classList.add('dark')\r\n    } else {\r\n      document.documentElement.classList.remove('dark')\r\n    }\r\n  }, [state])\r\n\r\n\r\n  return (\r\n    <ContextGlobal.Provider value={globalContextMemo}>\r\n      {children}\r\n    </ContextGlobal.Provider>\r\n  );\r\n};\r\n"],"mappings":";;;;AAAA,SAASA,aAAT,QAA8B,OAA9B;;AAEA,OAAO,MAAMC,YAAY,GAAG;EAACC,KAAK,EAAE,EAAR;EAAYC,IAAI,EAAE;AAAlB,CAArB;AAEP,OAAO,MAAMC,aAAa,gBAAGJ,aAAa,CAACC,YAAD,CAAnC;AACP,OAAO,MAAMI,gBAAgB,GAAG;EAAA;;EAAA,OAAMC,UAAU,CAACF,aAAD,CAAhB;AAAA,CAAzB;;GAAMC,gB;;AAEb,MAAME,cAAc,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;EACxC,MAAMC,cAAc,GAAE;IACpB,UAAU,EAAC,GAAGF,KAAJ;MAAWN,KAAK,EAAEM,KAAK,CAACN,KAAN,KAAgB,OAAhB,GAAwB,MAAxB,GAA+B;IAAjD,CADU;IAEpB,UAAU,EAAC,GAAGM,KAAJ;MAAWL,IAAI,EAAE,CAAC,GAAGK,KAAK,CAACL,IAAV,EAAgBM,MAAM,CAACE,OAAvB;IAAjB;EAFU,CAAtB;EAIA,OAAOD,cAAc,CAACD,MAAM,CAACG,IAAR,CAAd,GAA8BF,cAAc,CAACD,MAAM,CAACG,IAAR,CAA5C,GAA4DJ,KAAnE;AACD,CAND;;AAQA,MAAMK,qBAAqB,GAAG,OAAM;EAClCX,KAAK,EAAE,OAD2B;EAElCC,IAAI,EAAEW,YAAY,CAACC,OAAb,CAAqB,WAArB,IAAoCC,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAX,CAApC,GAAoF;AAFxD,CAAN,CAA9B;;AAKA,OAAO,MAAMG,qBAAqB,GAAG,QAAkB;EAAA;;EAAA,IAAjB;IAAEC;EAAF,CAAiB;EACrD;EACA,MAAM,CAACX,KAAD,EAAQY,QAAR,IAAoBC,UAAU,CAACd,cAAD,EAAiBN,YAAjB,EAA+BY,qBAA/B,CAApC;EACA,MAAMS,iBAAiB,GAAGC,QAAQ,CAAC,MAAM;IACvCT,YAAY,CAACU,OAAb,CAAqB,WAArB,EAAkCR,IAAI,CAACS,SAAL,CAAejB,KAAK,CAACL,IAArB,CAAlC;IACA,OAAM;MAACK,KAAD;MAAQY;IAAR,CAAN;EACC,CAH+B,EAG9B,CAACZ,KAAD,CAH8B,CAAlC;EAIAkB,SAAS,CAAC,MAAM;IACd,IAAIlB,KAAK,CAACN,KAAN,KAAgB,MAAhB,IAA2B,EAAE,WAAWM,KAAb,KAAuBmB,MAAM,CAACC,UAAP,CAAkB,8BAAlB,EAAkDC,OAAxG,EAAkH;MAChHC,QAAQ,CAACC,eAAT,CAAyBC,SAAzB,CAAmCC,GAAnC,CAAuC,MAAvC;IACD,CAFD,MAEO;MACLH,QAAQ,CAACC,eAAT,CAAyBC,SAAzB,CAAmCE,MAAnC,CAA0C,MAA1C;IACD;EACF,CANQ,EAMN,CAAC1B,KAAD,CANM,CAAT;EASA,oBACE,QAAC,aAAD,CAAe,QAAf;IAAwB,KAAK,EAAEc,iBAA/B;IAAA,UACGH;EADH;IAAA;IAAA;IAAA;EAAA,QADF;AAKD,CArBM;;IAAMD,qB;;KAAAA,qB"},"metadata":{},"sourceType":"module"}