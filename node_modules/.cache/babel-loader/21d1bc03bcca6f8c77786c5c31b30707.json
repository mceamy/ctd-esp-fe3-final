{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\admin\\\\Documents\\\\DH\\\\ctd-esp-fe3-final\\\\fe3-final\\\\src\\\\Components\\\\utils\\\\global.context.jsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { createContext, useMemo, useContext, useReducer, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const initialState = {\n  theme: \"\",\n  data: []\n};\nexport const ContextGlobal = /*#__PURE__*/createContext(initialState);\nexport const useGlobalContext = () => {\n  _s();\n\n  return useContext(ContextGlobal);\n};\n\n_s(useGlobalContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nconst contextReducer = (state, action) => {\n  const themeAndUpdate = {\n    'toggle': { ...state,\n      theme: state.theme === 'light' ? 'dark' : 'light'\n    },\n    'update': { ...state,\n      data: [...state.data, action.payload]\n    }\n  };\n  return themeAndUpdate[action.type] ? themeAndUpdate[action.type] : state;\n};\n\nconst initialContextReducer = () => ({\n  theme: 'light',\n  data: localStorage.getItem('favorites') ? JSON.parse(localStorage.getItem('favorites')) : []\n});\n\nexport const ContextGlobalProvider = _ref => {\n  _s2();\n\n  let {\n    children\n  } = _ref;\n  //Aqui deberan implementar la logica propia del Context, utilizando el hook useMemo\n  const [state, dispatch] = useReducer(contextReducer, initialState, initialContextReducer);\n  const globalContextMemo = useMemo(() => {\n    localStorage.setItem('favorites', JSON.stringify(state.data));\n    return {\n      state,\n      dispatch\n    };\n  }, [state]);\n  useEffect(() => {\n    if (state.theme === 'dark' || !('theme' in state) && window.matchMedia('(prefers-color-scheme: dark)').matches) {\n      document.documentElement.classList.add('dark');\n    } else {\n      document.documentElement.classList.remove('dark');\n    }\n  }, [state]);\n  return /*#__PURE__*/_jsxDEV(ContextGlobal.Provider, {\n    value: globalContextMemo,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(ContextGlobalProvider, \"GTWiXVS5OkmaZJnjNgDPx2o/8YE=\");\n\n_c = ContextGlobalProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"ContextGlobalProvider\");","map":{"version":3,"names":["createContext","useMemo","useContext","useReducer","useEffect","initialState","theme","data","ContextGlobal","useGlobalContext","contextReducer","state","action","themeAndUpdate","payload","type","initialContextReducer","localStorage","getItem","JSON","parse","ContextGlobalProvider","children","dispatch","globalContextMemo","setItem","stringify","window","matchMedia","matches","document","documentElement","classList","add","remove"],"sources":["C:/Users/admin/Documents/DH/ctd-esp-fe3-final/fe3-final/src/Components/utils/global.context.jsx"],"sourcesContent":["import { createContext, useMemo, useContext, useReducer, useEffect } from \"react\";\r\n\r\nexport const initialState = {theme: \"\", data: []}\r\n\r\nexport const ContextGlobal = createContext(initialState)\r\nexport const useGlobalContext = () => useContext(ContextGlobal);\r\n\r\nconst contextReducer = (state, action) => {\r\n  const themeAndUpdate ={\r\n    'toggle': {...state, theme: state.theme === 'light'?'dark':'light'},\r\n    'update': {...state, data: [...state.data, action.payload]}\r\n  }\r\n  return themeAndUpdate[action.type] ? themeAndUpdate[action.type] : state\r\n};\r\n\r\nconst initialContextReducer = () =>({\r\n  theme: 'light',\r\n  data: localStorage.getItem('favorites') ? JSON.parse(localStorage.getItem('favorites')) : []\r\n})\r\n\r\nexport const ContextGlobalProvider = ({ children }) => {\r\n  //Aqui deberan implementar la logica propia del Context, utilizando el hook useMemo\r\n  const [state, dispatch] = useReducer(contextReducer, initialState, initialContextReducer)\r\n  const globalContextMemo = useMemo(() => {\r\n    localStorage.setItem('favorites', JSON.stringify(state.data))\r\n    return{state, dispatch}\r\n    },[state])\r\n  useEffect(() => {\r\n    if (state.theme === 'dark' || (!('theme' in state) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {\r\n      document.documentElement.classList.add('dark')\r\n    } else {\r\n      document.documentElement.classList.remove('dark')\r\n    }\r\n  }, [state])\r\n\r\n\r\n  return (\r\n    <ContextGlobal.Provider value={globalContextMemo}>\r\n      {children}\r\n    </ContextGlobal.Provider>\r\n  );\r\n};\r\n"],"mappings":";;;;AAAA,SAASA,aAAT,EAAwBC,OAAxB,EAAiCC,UAAjC,EAA6CC,UAA7C,EAAyDC,SAAzD,QAA0E,OAA1E;;AAEA,OAAO,MAAMC,YAAY,GAAG;EAACC,KAAK,EAAE,EAAR;EAAYC,IAAI,EAAE;AAAlB,CAArB;AAEP,OAAO,MAAMC,aAAa,gBAAGR,aAAa,CAACK,YAAD,CAAnC;AACP,OAAO,MAAMI,gBAAgB,GAAG;EAAA;;EAAA,OAAMP,UAAU,CAACM,aAAD,CAAhB;AAAA,CAAzB;;GAAMC,gB;;AAEb,MAAMC,cAAc,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;EACxC,MAAMC,cAAc,GAAE;IACpB,UAAU,EAAC,GAAGF,KAAJ;MAAWL,KAAK,EAAEK,KAAK,CAACL,KAAN,KAAgB,OAAhB,GAAwB,MAAxB,GAA+B;IAAjD,CADU;IAEpB,UAAU,EAAC,GAAGK,KAAJ;MAAWJ,IAAI,EAAE,CAAC,GAAGI,KAAK,CAACJ,IAAV,EAAgBK,MAAM,CAACE,OAAvB;IAAjB;EAFU,CAAtB;EAIA,OAAOD,cAAc,CAACD,MAAM,CAACG,IAAR,CAAd,GAA8BF,cAAc,CAACD,MAAM,CAACG,IAAR,CAA5C,GAA4DJ,KAAnE;AACD,CAND;;AAQA,MAAMK,qBAAqB,GAAG,OAAM;EAClCV,KAAK,EAAE,OAD2B;EAElCC,IAAI,EAAEU,YAAY,CAACC,OAAb,CAAqB,WAArB,IAAoCC,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAX,CAApC,GAAoF;AAFxD,CAAN,CAA9B;;AAKA,OAAO,MAAMG,qBAAqB,GAAG,QAAkB;EAAA;;EAAA,IAAjB;IAAEC;EAAF,CAAiB;EACrD;EACA,MAAM,CAACX,KAAD,EAAQY,QAAR,IAAoBpB,UAAU,CAACO,cAAD,EAAiBL,YAAjB,EAA+BW,qBAA/B,CAApC;EACA,MAAMQ,iBAAiB,GAAGvB,OAAO,CAAC,MAAM;IACtCgB,YAAY,CAACQ,OAAb,CAAqB,WAArB,EAAkCN,IAAI,CAACO,SAAL,CAAef,KAAK,CAACJ,IAArB,CAAlC;IACA,OAAM;MAACI,KAAD;MAAQY;IAAR,CAAN;EACC,CAH8B,EAG7B,CAACZ,KAAD,CAH6B,CAAjC;EAIAP,SAAS,CAAC,MAAM;IACd,IAAIO,KAAK,CAACL,KAAN,KAAgB,MAAhB,IAA2B,EAAE,WAAWK,KAAb,KAAuBgB,MAAM,CAACC,UAAP,CAAkB,8BAAlB,EAAkDC,OAAxG,EAAkH;MAChHC,QAAQ,CAACC,eAAT,CAAyBC,SAAzB,CAAmCC,GAAnC,CAAuC,MAAvC;IACD,CAFD,MAEO;MACLH,QAAQ,CAACC,eAAT,CAAyBC,SAAzB,CAAmCE,MAAnC,CAA0C,MAA1C;IACD;EACF,CANQ,EAMN,CAACvB,KAAD,CANM,CAAT;EASA,oBACE,QAAC,aAAD,CAAe,QAAf;IAAwB,KAAK,EAAEa,iBAA/B;IAAA,UACGF;EADH;IAAA;IAAA;IAAA;EAAA,QADF;AAKD,CArBM;;IAAMD,qB;;KAAAA,qB"},"metadata":{},"sourceType":"module"}